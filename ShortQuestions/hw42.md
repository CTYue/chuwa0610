# HW10
1. List all the annotations you learned from class and homework to annotation.md
   see annotation.md [here](annotation.md)
2. what is the @configuration and @bean?
   see annotation.md [here](annotation.md)
3. How do you handle the exceptions in Spring? How do you make sure you do NOT expose sensitive information?
   - Using `@ControllerAdvice` and `@ExceptionHandler`
     ```java
      @ControllerAdvice  //Class Level, make this class be a bean(a managed class/object)
      public class GlobalExceptionHandler {
   
           @ExceptionHandler(Exception.class)  // Method Level, sed to handle the specific exceptions and sending the custom responses to the client
           public ResponseEntity<String> handleAllExceptions(Exception ex) {
               return new ResponseEntity<>("Error occurred", HttpStatus.INTERNAL_SERVER_ERROR);
           }
   
           @ExceptionHandler(SpecificException.class)
           public ResponseEntity<String> handleSpecificException(SpecificException ex) {
               return new ResponseEntity<>("Handled Specific Exception", HttpStatus.BAD_REQUEST);
           }
      }
      ```
   - Using `ResponseEntityExceptionHandler` and `@ExceptionHandler`
      - For REST APIs, using ResponseEntityExceptionHandler is a common practice. It is a convenient base class for @ControllerAdvice classes that wish to provide centralized exception handling across all @RequestMapping methods through @ExceptionHandler methods.
     ```java
     @ControllerAdvice
     public class RestResponseEntityExceptionHandler extends ResponseEntityExceptionHandler {
   
         @ExceptionHandler(value = { IllegalArgumentException.class, IllegalStateException.class })
         protected ResponseEntity<Object> handleConflict(RuntimeException ex, WebRequest request) {
             String bodyOfResponse = "This should be application specific";
             return handleExceptionInternal(ex, bodyOfResponse, 
               new HttpHeaders(), HttpStatus.CONFLICT, request);
         }
     }
     ```
   - To avoid exposing sensitive information, always return generic error messages in the production environment, and Log the detailed errors internally on the server instead of sending them to the client.
4. How do you do validations in Spring? List some validation annotations you know. What's the purpose of validation?
   >  Validation is a crucial step to ensure that data meets the business rules and constraints before it's processed further.
   - **Step**
     1. import dependency
     2. Add validation **Rule** to payload
     3. Add `@valid` to controller to **apply the Rule** here
        ```java
        public class PostDto {
            private long id;
            @NotEmpty  // validation rule
            @Size(min = 2, message = "Post title should have at least 2 characters")
            private String title;
       
            @NotEmpty
            private String content;
        }
   
        //...
        @PostMapping
        public ResponseEntity<PostDto> createPost(@Valid @RequestBody PostDto postDto) {
            return new ResponseEntity<>(postService.createPost(postDto), HttpStatus.CREATED);
        }
        ```
     4. Check it in Postman
   - More annotations see annotation.md [here](annotation.md)
5. What is the actuator, list some endpoints and payload it provides?
    > The Spring Boot Actuator is a module in Spring Boot that provides built-in production-ready features to **monitor and manage your application**.
   - Common Actuator Endpoints
     1. `/actuator/health`
        Shows application health information.
           ```json
           {
           "status": "UP",
           "components": {
           "diskSpace": {
           "status": "UP",
           "details": {
           "total": 499963174912,
           "free": 245684994048,
           "threshold": 10485760
           }
           },
           "mongo": {
           "status": "UP",
           "details": {
           "version": "4.0.10"
           }
           }
           }
           }
           ```
     2. `/actuator/info`
        Provides arbitrary application info.
        ```json
        {
        "app": {
        "name": "ExampleService",
        "version": "1.0.0",
        "description": "This is a sample application",
        "encoding": "UTF-8"
        }
        }
        ```
     3. `/actuator/metrics`
     Provides detailed metrics of the application
          ```json
          {
          "name": "system.cpu.usage",
          "description": "The recent CPU usage for the whole system.",
          "baseUnit": "percentage",
          "measurements": [
          {
          "statistic": "VALUE",
          "value": 0.0423
          }
          ],
          "availableTags": []
          }
          ```
     4. `/actuator/env`
        Shows the current environment properties, including system properties, environment variables, and custom configuration.
     5. `/actuator/loggers`
        Displays and modifies the configuration of loggers in the application.
         ```json
         {
           "levels": ["OFF", "ERROR", "WARN", "INFO", "DEBUG", "TRACE"],
           "loggers": {
             "ROOT": {
               "configuredLevel": "INFO",
               "effectiveLevel": "INFO"
             },
             "com.example": {
               "configuredLevel": null,
               "effectiveLevel": "DEBUG"
             }
           }
         }
         ```
     6. `/actuator/heapdump`
        Provides a GZip compressed hprof heap dump file.
     7. `/actuator/threaddump`
        Provides a dump of the thread state of the application.
6. Apply the above annotations to your previous homework projects as possible as you can.
7. watch those videos(泛泛地看一遍，能理解多少是多少，没有必要看其它视频。)
   - Spring简介:https://www.youtube.com/watch?v=l0MqsOADAUE&list=PLmOn9nNkQxJFbsU4Qz8CdRiVM4Qs3ci75&index=64
   - IOC/DI:https://www.youtube.com/watch?v=PyMxNr2p0C0&list=PLmOn9nNkQxJFbsU4Qz8CdRiVM4Qs3ci75&index=65
   - IOC Container:https://www.youtube.com/watch?v=pLa77Tw-yyI&list=PLmOn9nNkQxJFbsU4Qz8CdRiVM4Qs3ci75&index=66
   - Bean:
   https://www.youtube.com/watch?v=OpgMHzM7tgQ&list=PLmOn9nNkQxJFbsU4Qz8CdRiVM4Qs3ci75&index=67
   https://www.youtube.com/watch?v=OpgMHzM7tgQ&list=PLmOn9nNkQxJFbsU4Qz8CdRiVM4Qs3ci75&index=68
   https://www.youtube.com/watch?v=OpgMHzM7tgQ&list=PLmOn9nNkQxJFbsU4Qz8CdRiVM4Qs3ci75&index=69
   - DI:
   https://www.youtube.com/watch?v=MgTpBST9onM&list=PLmOn9nNkQxJFbsU4Qz8CdRiVM4Qs3ci75&index=70
   https://www.youtube.com/watch?v=yhEWZx2i1BA&list=PLmOn9nNkQxJFbsU4Qz8CdRiVM4Qs3ci75&index=71