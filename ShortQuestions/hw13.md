## 2.  Explain TLS, PKI, certificate, public key, private key, and signature.
- TLS (Transport Layer Security):
TLS is a protocol that ensures secure communication over a computer network. It encrypts the data transmitted between a client and a server to prevent eavesdropping and tampering by third parties. TLS is the successor to SSL (Secure Sockets Layer) and is used in HTTPS to secure internet communications.

- PKI (Public Key Infrastructure):
PKI is a framework for managing digital keys and certificates. It encompasses the creation, management, distribution, storage, and revocation of digital certificates. The core of PKI is the trust model, which relies on trusted third parties called Certificate Authorities (CAs) to validate and ensure the authenticity of public keys.

- Certificate:
A digital certificate is an electronic document that proves the ownership of a public key. It is usually issued by a CA and contains the public key, information about the key owner, and the CA's digital signature. Certificates are used to verify the identity of servers and users in network communications.

- Public Key:
A public key is part of a cryptographic key pair used for encrypting data and verifying digital signatures. It can be shared openly. Data encrypted with a public key can only be decrypted by its corresponding private key, and it can be used to verify digital signatures made with the corresponding private key.

- Private Key:
A private key is the other part of a cryptographic key pair, used for decrypting data and creating digital signatures. It must be kept secret and known only to its owner. Data encrypted with a private key can only be decrypted by its corresponding public key, and digital signatures created with a private key can be verified by its corresponding public key.

- Signature:
A digital signature is a cryptographic value that is calculated from the data and a private key. It ensures the integrity and origin of the data. The process involves creating a hash of the data and encrypting it with the private key. The recipient can then use the sender's public key to decrypt the signature and verify the hash, ensuring the data has not been tampered with and is from the expected sender.


## 3.  list all http status codes that related to authentication and authorization failures.

- 401 Unauthorized

Indicates that the request has not been applied because it lacks valid authentication credentials for the target resource.

- 403 Forbidden
Indicates that the server understood the request but refuses to authorize it. This is different from 401 in that re-authenticating will make no difference.

- 407 Proxy Authentication Required
Similar to 401, but it indicates that the client must first authenticate itself with the proxy.

## 4.  Compare authentication and authorization?
| Aspect            | Authentication                                                                 | Authorization                                                                 |
|-------------------|-------------------------------------------------------------------------------|-------------------------------------------------------------------------------|
| **Definition**    | The process of verifying the identity of a user or system.                    | The process of determining if an authenticated entity has permission to access certain resources or perform specific actions. |
| **Purpose**       | To ensure that the entity accessing the system is legitimate.                 | To ensure that a user or system has the necessary permissions to access resources or perform actions. |
| **Process**       | Typically involves credentials like username and password, biometrics, tokens, or multi-factor authentication. | Involves checking permissions and access control lists (ACLs), roles, and policies. Often managed through role-based access control (RBAC) or attribute-based access control (ABAC). |
| **Example**       | Logging into a website with a username and password. Scanning a fingerprint to access a mobile device. | A user trying to access their own account settings page. An employee accessing a confidential document based on their role. |
| **Responsibility**| Ensured by systems like login pages, authentication servers, and identity verification tools. | Ensured by systems like access control mechanisms, policy enforcement points, and authorization servers. |


## 5.  What is HTTP Session?
- An HTTP session is a sequence of network request-response transactions shared between a client and server. It is a way to maintain state and keep track of a user's interactions with a web application over multiple HTTP requests, which are inherently stateless.


## 6.  What is Cookie?
- An HTTP cookie is a small piece of data sent from a website and stored on the user's computer by the user's web browser while they are browsing. Cookies are designed to be a reliable mechanism for websites to remember stateful information or to record the user's browsing activity.



## 7.  What is the difference between Session and Cookie?

| Aspect            | Session                                                                      | Cookie                                                                      |
|-------------------|------------------------------------------------------------------------------|-----------------------------------------------------------------------------|
| **Definition**    | Server-side storage of user data across multiple requests.                   | Client-side storage of small pieces of data sent by the server.              |
| **Storage**       | Stored on the server.                                                        | Stored on the client-side (browser).                                         |
| **Data Size**     | Can handle larger amounts of data.                                           | Limited to 4KB of data.                                                     |
| **Security**      | More secure, as data is not exposed to the client.                           | Less secure, as data is stored on the client's machine.                     |
| **Expiration**    | Expires when the browser is closed or after a set period of inactivity.      | Can be set to expire at a specific time/date or when the browser is closed.  |
| **Use Cases**     | Storing sensitive information, user authentication, shopping cart contents.  | Storing user preferences, tracking info, and session identifiers.           |
| **Performance**   | Slight performance overhead on the server.                                   | Minimal performance impact on the server.                                   |
| **Accessibility** | Not accessible by the client; only via the server.                           | Accessible by both server and client-side scripts (unless `HttpOnly`).       |



## 8.  How do we use session and cookie to keep user information across the the application?

-Set session
```java
@PostMapping("/login")
    public String login(@RequestParam String username, HttpSession session) {
        // Perform authentication (e.g., check username and password)
        // Assuming authentication is successful:
        session.setAttribute("username", username);
        return "redirect:/home";
    }
```

-Set cookie
````java
@Controller
public class CookieController {

    @PostMapping("/setCookie")
    public String setCookie(HttpServletResponse response) {
        Cookie cookie = new Cookie("username", "johnDoe");
        cookie.setMaxAge(7 * 24 * 60 * 60); // 7 days
        cookie.setHttpOnly(true);
        cookie.setSecure(true);
        response.addCookie(cookie);
        return "cookieSet";
    }
}

````
## 9.  What is JWT?
- A JSON Web Token (JWT) is an open standard (RFC 7519) for securely transmitting information between parties as a JSON object. It is compact, URL-safe, and can be digitally signed or encrypted. JWTs are commonly used for authentication and authorization in web applications.


## 10.  What is the spring security filter?
- In Spring Security, filters play a crucial role in securing a web application by intercepting incoming requests and applying security checks. Here's an overview of the Spring Security filter and its components:
- Spring Security uses a chain of servlet filters to provide security to web applications. Each filter in the chain performs a specific security-related task, such as authentication, authorization, session management, CSRF protection, and more. Filters are configured in a specific order to handle requests and responses as they pass through the filter chain.


## 11.  Explain how JWT works
- Header: Contains metadata about the token such as the type (JWT) and the signing algorithm used.
- Payload: Contains claims, which are statements about an entity (typically, the user) and additional data. Claims are in the form of key-value pairs.
- Signature: Ensures the token has not been altered during transmission and can be trusted. It is created by taking the encoded header and payload, concatenating them with a secret or private key, and applying the specified signing algorithm (alg).
- JSON Web Tokens (JWTs) function by securely transmitting compact, URL-safe JSON objects between parties. When a user logs in, the server generates a JWT containing user information (claims) and signs it using a secret key. This JWT is then sent to the client, who stores it, typically in local storage or a cookie. Subsequent requests from the client include the JWT in the Authorization header. Upon receiving a request, the server verifies the JWT's signature to ensure its authenticity and decodes it to retrieve user information. If valid, the server uses this information to authenticate and authorize the user, allowing access to protected resources or services. JWTs enable stateless authentication and authorization, reducing server-side storage and enhancing scalability in web applications.


## 12.  Explain how do we store sensitive user information such as password and credit card number in DB?

- Password Storage:

Hashing: Use strong, one-way hashing algorithms (e.g., bcrypt, Argon2) to hash passwords before storing them. Hashing irreversibly transforms the password into a fixed-size string, making it computationally impractical to retrieve the original password.
Salt: Generate a unique salt for each password before hashing to prevent attackers from using precomputed hash tables (rainbow tables) for password cracking.
Secure Storage: Store the hashed password and the salt securely in the database. Ensure the database itself is protected against unauthorized access.

- Credit Card Numbers:

Encryption: Encrypt credit card numbers using strong encryption algorithms (e.g., AES-256) before storing them in the database. Encryption allows data to be securely stored and transmitted, and decryption keys should be managed securely.
Tokenization: Store credit card information using tokenization services provided by payment processors. Tokenization replaces sensitive data with unique identifiers (tokens) that can be mapped back to the original data only by authorized systems.



## 13.  Compare UserDetailService, AuthenticationProvider, AuthenticationManager, AuthenticationFilter?
- UserDetailService vs AuthenticationProvider:

UserDetailService focuses on retrieving user details from a data source.
AuthenticationProvider focuses on authenticating users based on credentials and verifying user roles/permissions.

- AuthenticationProvider vs AuthenticationManager:

AuthenticationProvider implements authentication logic for specific methods (e.g., username/password, tokens).
AuthenticationManager coordinates multiple AuthenticationProviders and manages the authentication process, deciding whether authentication succeeds or fails.

- AuthenticationManager vs AuthenticationFilter:

AuthenticationManager manages the authentication process and delegates authentication requests to providers.
AuthenticationFilter intercepts incoming requests and extracts authentication information, initiating the authentication process.


## 14.  What is the disadvantage of Session? how to overcome the disadvantage?
- One disadvantage of using sessions in web applications is scalability and resource management. Sessions typically store user-specific data on the server, which can lead to increased server-side memory consumption and potential scalability issues, especially in distributed or cloud environments where horizontal scaling is crucial. To overcome these disadvantages, stateless authentication mechanisms like JSON Web Tokens (JWTs) can be employed. JWTs store user information on the client side, eliminating the need for server-side storage of session data. This approach improves scalability by allowing stateless servers to handle authentication requests without the overhead of managing session states. Additionally, implementing session expiration policies and using efficient session management techniques can help mitigate session-related issues in traditional session-based authentication.




## 15.  how to get value from application.properties in Spring security?
- first @EnableWebSecurity
- second @Value("${app.security.<name of the value>}")





## 16.  What is the role of configure(HttpSecurity http) and configure(AuthenticationManagerBuilder auth)?

- configure(HttpSecurity http)

The configure(HttpSecurity http) method is used to define security rules and configure how requests should be secured and authorized within your application. It typically includes:

Authorization Rules: Specify which URLs should be accessible without authentication (permitAll()) and which should require specific roles or permissions (hasRole(), hasAuthority()).

Authentication Mechanisms: Configure how users are authenticated, such as form-based login (formLogin()), HTTP Basic authentication (httpBasic()), or token-based authentication (addFilterBefore() for custom filters).

Session Management: Configure session handling policies (sessionManagement()) such as session creation, maximum sessions allowed per user, and handling of expired sessions.

CSRF Protection: Enable or disable Cross-Site Request Forgery (CSRF) protection (csrf()), which helps prevent malicious attacks exploiting user sessions.


- configure(AuthenticationManagerBuilder auth)

The configure(AuthenticationManagerBuilder auth) method is used to configure how Spring Security performs authentication. It allows you to define:

Authentication Providers: Configure authentication providers (AuthenticationProvider) that verify user credentials against a user database, LDAP, or other authentication sources.

User Details Service: Specify a custom UserDetailsService implementation to load user details (username, password, roles) for authentication purposes

## 17.  What is Spring security authentication and authorization?


### Authentication
Authentication in Spring Security refers to the process of verifying the identity of a user attempting to access a system or application. It involves validating credentials provided by the user (such as username and password) and establishing their identity.

Authentication Methods: Spring Security supports various authentication methods, including:
Form-based Login: Users authenticate via a login form (e.g., username/password).
HTTP Basic Authentication: Users provide credentials encoded in Base64 in the HTTP header.
HTTP Digest Authentication: Similar to Basic but more secure due to hashing.
Token-based Authentication: Users present a token (e.g., JWT) for authentication.
LDAP Authentication: Integration with Lightweight Directory Access Protocol for user authentication.
OAuth: Integration with OAuth providers for delegated authentication.


### Authorization
Authorization in Spring Security determines whether an authenticated user is allowed to perform certain actions or access specific resources within an application. It controls access based on roles, permissions, or other attributes associated with the authenticated user.

Authorization Rules: Spring Security allows you to define authorization rules using:
Role-based Access Control (RBAC): Users are assigned roles, and access to resources is based on these roles (hasRole() method).
Permission-based Access Control: Fine-grained control based on specific permissions associated with users (hasAuthority() method).
Expression-based Access Control: Using SpEL (Spring Expression Language) for more complex authorization logic (@PreAuthorize, @PostAuthorize annotations).
Method-level Security: Securing individual methods in service classes or controllers using annotations (@Secured, @RolesAllowed).



