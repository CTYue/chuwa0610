# HW11

## 1. List all of the annotations you learned from class and homework to annotaitons.md (your own cheatsheet).

## 2. Compare Spring and Springboot? What are the benfits of Srpingboot?

- Spring is a comprehensive framework for building Java applications, offering extensive support for dependency injection, aspect-oriented programming, transaction management, and more. It provides the core infrastructure and libraries needed for building complex enterprise applications.

- Spring Boot is a layer on top of Spring that simplifies the development of Spring-based applications by:
    - Auto-Configuration: Automatically configures your application based on the dependencies you include.
    - Embedded Servers: Provides embedded servers like Tomcat or Jetty, eliminating the need for external servers.
    - Starter POMs: Simplifies dependency management through starter POMs that bundle related dependencies.
    - Production-Ready Features: Includes features like metrics, health checks, and externalized configuration to aid in production deployments.
    - Simplified Deployment: Packages applications as standalone executable JARs or WARs for easy deployment.

- Generally speaking, Spring Boot enhances Spring by providing a faster, easier, and more efficient development experience.

## 3. What is IOC and What is DI?

- Inversion of Control (IoC) is a design principle where the control of objects and their dependencies is transferred from the application code to a container or framework. It helps in managing the lifecycle and dependencies of objects.

- Dependency Injection (DI) is a pattern that implements IoC, where an object's dependencies are injected by the framework rather than the object creating them itself. This can be done via constructor injection, setter injection, or field injection.

## 4. What is @CompnonentScan ?

- @ComponentScan is a Spring annotation that tells the framework to scan the specified packages for Spring-managed components (like @Component, @Service, @Repository, @Controller annotations) and register them as beans in the application context. It helps in automatically detecting and configuring beans.

- Ex: 
```java
@Configuration
@ComponentScan(basePackages = "com.example.myapp")
public class AppConfig {
}
```

## 5. What is @SpringbootApplication?

- @SpringBootApplication is a convenience annotation in Spring Boot that combines:
    - @Configuration: Indicates that the class can be used by the Spring IoC container as a source of bean definitions.
    - @EnableAutoConfiguration: Enables Spring Boot's auto-configuration mechanism.
    - @ComponentScan: Enables component scanning to automatically discover beans.

- Ex:
```java
@SpringBootApplication
public class MyApplication {
    public static void main(String[] args) {
        SpringApplication.run(MyApplication.class, args);
    }
}
```

## 6. How many ways to define a bean? Provide code examples.

- Using @Component Annotation:
```java
@Component
public class MyBean {
    // bean definition
}
```

- Using @Bean Method in a Configuration Class:
```java
@Configuration
public class AppConfig {
    @Bean
    public MyBean myBean() {
        return new MyBean();
    }
}
```

- Using XML Configuration:
<beans>
    <bean id="myBean" class="com.example.MyBean"/>
</beans>

## 7. What is default bean name for @Component and @Bean ? Also compare @Component and @Bean .

- @Component: The default bean name is the class name with the first letter lowercased.
```java
@Component
public class MyService {
}
// Default bean name: myService
```

- @Bean: The default bean name is the method name.
```java
@Configuration
public class AppConfig {
    @Bean
    public MyService myService() {
        return new MyService();
    }
}
// Default bean name: myService
```

- Comparison: 
    - @Component:
        - Used at the class level.
        - Automatically detected through classpath scanning.
        - Suitable for general-purpose Spring beans.
    - @Bean:
        - Used at the method level inside a @Configuration class.
        - Allows more complex bean creation logic.
        - Suitable for beans that require some custom initialization or configuration.

## 8. Compare @component and @service , @repository , @controller ?

- @Component: General-purpose stereotype for any Spring-managed component.
- @Service: Specialization of @Component for service layer classes. Used to indicate that a class performs business logic or service tasks.
- @Repository: Specialization of @Component for DAO (Data Access Object) classes. Adds persistence exception translation (e.g., converting database exceptions to Spring's DataAccessException).
- @Controller: Specialization of @Component for web controllers. Used to define a controller in the Spring MVC framework.

## 9. Explain @Autowired , @Qualifier , @Resource and @Primary?

- @Autowired: 
    - Used for automatic dependency injection.
    - Can be applied to constructors, fields, and setter methods.
    - By default, it injects by type.

- @Qualifier:
    - Used alongside @Autowired to resolve ambiguity when multiple beans of the same type exist.
    - Specifies which bean to inject.

- @Resource:
    - JSR-250 annotation for dependency injection.
    - Injects by name by default, but can inject by type if no name is specified.

- @Primary:
    - Indicates that a bean should be given preference when multiple candidates qualify for autowiring.
    - Used to resolve ambiguity in dependency injection.

## 10. How many annotaitons we can use to inject a bean?

- @Autowired (Spring-specific)
- @Qualifier (Used with @Autowired to specify the bean to inject)
- @Resource (JSR-250, part of Java EE)
- @Inject (JSR-330, part of Java EE)

## 11. Explain and compare differnet types of denpendency injection, their pros and cons, and use cases.

- Constructor Injection:
    - Dependencies are provided through a class constructor.
    - Pros: 
        - Ensures immutability and thread-safety
        - Dependencies are clearly defined and required at object creation.
    - Cons:
        - Can become cumbersome with many dependencies.
    - Use Cases:
        - Preferred for mandatory dependencies and when promoting immutability.

- Setter Injection:
    - Dependencies are provided through setter methods
    - Pros:
        - Allows for optional dependencies.
        - Can be used to change dependencies post-instantiation.
    - Cons:
        - Dependencies can be altered, reducing immutability.
        - Requires careful handling to ensure all necessary dependencies are set.
    - Use Cases:
        - Suitable for optional dependencies and situations where you need to change dependencies after object creation.
    
- Field Injection:
    - Dependencies are injected directly into fields
    - Pros:
        - Simplifies code by avoiding boilerplate setter methods or constructors.
    - Cons:
        - Makes testing and immutability harder.
        - Not recommended for final fields.
    - Use Cases:
        - Convenient for small projects or simple use cases, but generally discouraged in favor of constructor injection.

## 12. If we have multiple beans for one type, how to set one is primary? and how Spring IOC picks one bean to inject if no primay.

- Using @Primary Annotation
    - Add @Primary to the bean definition of the preferred bean.
    - Spring IOC will prioritize this bean when multiple beans of the same type exist.
- Ex:
```java
@Bean
@Primary
public MyService myPrimaryService() {
    return new MyService();
}
```
- If no primary bean is set: Spring IOC typically selects the bean based on the order of configuration or registration. The first bean found during component scanning or configuration will be chosen if no primary bean is specified.

## 13. Compare BeanFactory and ApplicationContext in Spring framework?

- BeanFactory: The basic interface for accessing Spring beans.
    - Pros: Lightweight, focuses on bean instantiation and management.
    - Cons: Basic functionality, limited support for advanced features like AOP, events.
    - Use Case: Suitable for memory-constrained environments or where basic dependency injection is sufficient.

- ApplicationContext:A more advanced interface extending BeanFactory with additional features.
    - Pros: Full Spring IoC container, supports AOP, events, internationalization, and more.
    - Cons: More resource-intensive compared to BeanFactory.
    - Use Case: Typically used in most Spring applications for comprehensive dependency injection and advanced features.

## 14. Explain bean scope in Spring IOC? List bean scopes with explainations and code examples if possible.

- Bean scope defines the lifecycle and visibility of beans managed by the container. Here are the common bean scopes:
- Singleton: Only one instance of the bean is created for each Spring IoC container.
```java
@Component
@Scope("singleton")
public class MySingletonBean {
    // Bean definition
}
```
- Prototype: A new instance of the bean is created each time it is requested.
```java
@Component
@Scope("prototype")
public class MyPrototypeBean {
    // Bean definition
}
```
- Request: Scoped to an HTTP request; each HTTP request gets a new instance.
```java
@Component
@Scope("request")
public class MyRequestScopedBean {
    // Bean definition
}
```

## 15. Configure a bean using xml. If bean has parameters/dependencies, how can we configure the bean?

- In XML configuration, you can configure a bean and its dependencies using the <bean> tag and <constructor-arg> or <property> tags for parameters:

- Configuring a Bean: 
<beans xmlns="http://www.springframework.org/schema/beans"
       xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
       xsi:schemaLocation="http://www.springframework.org/schema/beans
                           http://www.springframework.org/schema/beans/spring-beans.xsd">

    <bean id="myBean" class="com.example.MyBean">
        <!-- Constructor injection -->
        <constructor-arg ref="dependencyBean" />
        <!-- Property injection -->
        <property name="propertyName" value="propertyValue" />
    </bean>

    <bean id="dependencyBean" class="com.example.DependencyBean">
        <!-- Dependency bean configuration -->
    </bean>

</beans>

- <constructor-arg>: Used inside <bean> to inject dependencies via constructor.
- <property>: Used inside <bean> to inject dependencies via setter methods.

## 16. Do Q15 without xml, use Springboot IOC annotations instead.

- We can configure beans and their dependencies using annotations like @Bean, @Autowired, and constructor injection or setter injection:

- Configuring a Bean with Dependencies:
```java
import org.springframework.context.annotation.Bean;
import org.springframework.context.annotation.Configuration;

@Configuration
public class AppConfig {

    @Bean
    public MyBean myBean(DependencyBean dependencyBean) {
        return new MyBean(dependencyBean);
    }

    @Bean
    public DependencyBean dependencyBean() {
        return new DependencyBean();
    }
}
```
- @Configuration: Marks the class as a configuration class.
- @Bean: Declares a bean definition method.
- @Autowired: Used for dependency injection in constructors or setters.

