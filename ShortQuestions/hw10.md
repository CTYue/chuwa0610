# Chuwa Homework 10 MingHao(Howard) Lee 

# Questions

## 1. List all of the annotations you learned from class and homework to `annotations.md`.
  - Please refer to the annotations.md file.   
## 2. What is the `@Configuration` and `@Bean`?
**`@Configuration`**
 - The @Configuration annotation is used to indicate that a class declares one or more `@Bean` methods and may be processed by the Spring container to generate bean definitions and service requests at runtime.
   It is a part of the Spring Core framework.
   Spring Configuration annotation indicates that the class has `@Bean` definition methods. So Spring container can process the class and generate Spring Beans to be used in the application.
```Java
  @Configuration
  public class AppConfig {
  
      @Bean
      public MyService myService() {
          return new MyServiceImpl();
      }
  }
```
**`@Bean`**
 - The `@Bean` annotation tells Spring that a method annotated with `@Bean` will return an object that should be registered as a bean in the Spring application context.
   It is a method-level annotation and a direct analog of the XML `<bean>` element.
```Java
  @Bean
  public MyService myService() {
      return new MyServiceImpl();
  }
```
 - In the example above, the `myService()` method is annotated with `@Bean`, which indicates that Spring should call this method when it initializes the application context and register the return value as a bean.

   These two annotations are often used together in a configuration class to define beans for the Spring container.
 ```Java
  @Configuration
  public class AppConfig {
  
      @Bean
      public MyService myService() {
          return new MyServiceImpl();
      }
  
      @Bean
      public MyRepository myRepository() {
          return new MyRepositoryImpl();
      }
  }
```
 - In this example, `AppConfig` is a configuration class, and it contains two bean definitions: one for `MyService` and one for `MyRepository`.
   When the Spring container processes this configuration class, it will create and register these beans in the application context.


## 3. How do you handle the exceptions in Spring? How do you make sure you do NOT expose sensitive information?

### Handling Exceptions in Spring

1. **Using `@ExceptionHandler`**:
   - This annotation is placed on methods within a controller to handle specific exceptions that are thrown by the controller's methods. It allows for customized responses for different exceptions.

2. **Using `@ControllerAdvice`**:
   - This annotation allows you to define a global exception handler that applies to all controllers. It is used to handle exceptions across the whole application, not just within a single controller.

3. **Using `ResponseEntityExceptionHandler`**:
   - This is a base class provided by Spring for handling exceptions in RESTful web services. By extending this class, you can override methods to handle common Spring exceptions in a centralized way.

## Ensuring Sensitive Information is Not Exposed

1. **Custom Error Messages**:
   - Instead of returning detailed error information to the client, return generic error messages. This prevents exposing internal details that could be useful to an attacker.

2. **Log Detailed Errors**:
   - Log detailed error information on the server side for troubleshooting purposes, but only return generic error messages to the client. This keeps sensitive information out of the client-facing responses.

3. **Validation Errors**:
   - When validation fails, ensure that the error messages do not expose internal details. Provide clear but general messages indicating what the validation error is.

4. **Use HTTP Status Codes**:
   - Use appropriate HTTP status codes to indicate the type of error (e.g., 400 for bad request, 401 for unauthorized, 403 for forbidden, 404 for not found, 500 for internal server error). This helps clients understand the nature of the error without exposing sensitive information.

## 4. How do you do validations in Spring? List some validation annotations you know. What's the purpose of validation?

### How to Perform Validations

1. **Add Validation Dependencies**:
   - Ensure that your project includes the necessary dependencies for validation, such as Hibernate Validator.

2. **Define Validation Constraints**:
   - Use validation annotations on the fields of your model classes to specify the validation rules.

3. **Enable Validation in Controllers**:
   - Use the `@Valid` annotation on method parameters in your controller methods to trigger the validation.

4. **Handle Validation Errors**:
   - Use the `BindingResult` parameter in your controller methods to handle validation errors and provide feedback to the client.

### Validation Annotations

1. **@NotNull**:
   - Ensures that the annotated field is not null.
2. **@NotEmpty**:
   - Ensures that the annotated field is not null or empty.
3. **@NotBlank**:
   - Ensures that the annotated field is not null, empty, or whitespace.
4. **@Size**:
   - Specifies the minimum and maximum length of a string.
5. **@Min**:
   - Specifies the minimum value of a numeric field.
6. **@Max**:
   - Specifies the maximum value of a numeric field.
7. **@Email**:
   - Ensures that the annotated field is a valid email address.
8. **@Pattern**:
   - Ensures that the annotated field matches a specified regular expression.
9. **@Past**:
   - Ensures that the annotated field is a date in the past.
10. **@Future**:
    - Ensures that the annotated field is a date in the future.

### Purpose of Validation

1. **Data Integrity**:
   - Ensures that the data entering your application meets specific criteria and constraints, maintaining the integrity of your data.

2. **Prevent Errors**:
   - Catches invalid data early in the processing lifecycle, preventing errors and exceptions from occurring later in the application flow.

3. **Security**:
   - Prevents malicious data from entering your system, which could lead to security vulnerabilities such as SQL injection or cross-site scripting (XSS).

4. **User Feedback**:
   - Provides immediate feedback to users about what data is expected, improving the user experience by helping them correct errors promptly.

5. **Maintain Business Rules**:
   - Ensures that business rules and constraints are consistently enforced across the application.

## 5. What is the actuator, list some endpoints and payload it provides?
### What is the Actuator?

Spring Boot Actuator is a set of built-in endpoints that provide various management and monitoring capabilities for a Spring Boot application. It helps in monitoring and managing the application by exposing operational information via endpoints over HTTP or JMX. Actuator endpoints can be used to gather metrics, understand traffic, or the state of the database, etc.

### Endpoints and Payload

Here are three common actuator endpoints and the type of payload they provide:

1. **/actuator/health**
   - **Purpose**: Provides health information of the application.
   - **Payload Example**:
     ```json
     {
       "status": "UP",
       "components": {
         "db": {
           "status": "UP",
           "details": {
             "database": "MySQL",
             "hello": 1
           }
         },
         "diskSpace": {
           "status": "UP",
           "details": {
             "total": 499963174912,
             "free": 201235423232,
             "threshold": 10485760
           }
         }
       }
     }
     ```

2. **/actuator/info**
   - **Purpose**: Provides arbitrary application info, often configured in `application.properties` or `application.yml`.
   - **Payload Example**:
     ```json
     {
       "app": {
         "name": "MyApp",
         "description": "This is a sample application",
         "version": "1.0.0"
       }
     }
     ```

3. **/actuator/metrics**
   - **Purpose**: Exposes metrics information about the application.
   - **Payload Example**:
     ```json
     {
       "names": [
         "jvm.memory.used",
         "jvm.memory.max",
         "jvm.threads.live",
         "system.cpu.usage",
         "process.uptime",
         "http.server.requests"
       ]
     }
     ```

## 6. Apply above annotations to your previous homework projects as much as you can.
  - Please refer to the before branch coding folder for more detail. 
## 7. Watch those videos (泛泛地看一遍，能理解多少是多少，没有必要看其它视频。)
    1. [Spring简介](https://www.youtube.com/watch?v=l0MqsOADAUE&list=PLmOn9nNkQxJFbsU4Qz8CdRiVM4Qs3ci75&index=64)
    2. [IOC/DI](https://www.youtube.com/watch?v=PyMxNr2p0C0&list=PLmOn9nNkQxJFbsU4Qz8CdRiVM4Qs3ci75&index=65)
    3. [IOC container](https://www.youtube.com/watch?v=pLa77Tw-yyI&list=PLmOn9nNkQxJFbsU4Qz8CdRiVM4Qs3ci75&index=66)
    4. Bean:
        1. [Video 1](https://www.youtube.com/watch?v=OpgMHzM7tgQ&list=PLmOn9nNkQxJFbsU4Qz8CdRiVM4Qs3ci75&index=67)
        2. [Video 2](https://www.youtube.com/watch?v=OpgMHzM7tgQ&list=PLmOn9nNkQxJFbsU4Qz8CdRiVM4Qs3ci75&index=68)
        3. [Video 3](https://www.youtube.com/watch?v=OpgMHzM7tgQ&list=PLmOn9nNkQxJFbsU4Qz8CdRiVM4Qs3ci75&index=69)
    5. DI:
        1. [Video 1](https://www.youtube.com/watch?v=MgTpBST9onM&list=PLmOn9nNkQxJFbsU4Qz8CdRiVM4Qs3ci75&index=70)
        2. [Video 2](https://www.youtube.com/watch?v=yhEWZx2i1BA&list=PLmOn9nNkQxJFbsU4Qz8CdRiVM4Qs3ci75&index=71)
